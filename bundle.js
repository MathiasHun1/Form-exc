(()=>{"use strict";function e(e){e.parentElement.querySelector("#valid-icon").classList.add("active")}function t(e){e.parentElement.querySelector("#valid-icon").classList.remove("active")}function n(){const n=document.getElementById("email"),o=n.nextElementSibling;let l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.value);if(""===n.value)o.textContent="email is required",o.style.color="red",t(n);else if(l||""===n.value){if(l)return o.textContent="valid",o.style.color="green",e(n),!0}else o.textContent="Use valid email adress!",o.style.color="red",t(n)}function o(){const n=document.getElementById("country"),o=n.nextElementSibling;if(["hun","ro","slo"].includes(n.value))return o.textContent="valid",o.style.color="green",e(n),!0;"none"===n.value&&(o.textContent="choose your country!",o.style.color="red",t(n))}function l(){const n=document.querySelector("#zip"),o=n.nextElementSibling;let l=/^\d{4}$/.test(n.value);if(""===n.value)o.textContent="Zip is required",o.style.color="red",t(n);else if(l||""===n.value){if(l)return o.textContent="valid",o.style.color="green",e(n),!0}else o.textContent="Zip must be four numbers!",o.style.color="red",t(n)}function r(){const n=document.querySelector("#password");let o=/^(?=.*[A-Z].*[A-Z])(?=.*\d.*\d).{8,}$/.test(n.value);if(function(e){const t=document.querySelector("#digits-req"),n=document.querySelector("#uppers-req"),o=document.querySelector("#length-req");document.querySelector("#reqs").style.display="block",/.*\d.*\d.*/.test(e)?t.style.color="green":t.style.color="red",/.*[A-Z].*[A-Z]/.test(e)?n.style.color="green":n.style.color="red",/.{8,}/.test(e)?o.style.color="green":o.style.color="red"}(n.value),""===n.value)t(n);else{if(o)return e(n),!0;o||t(n)}}function c(){const n=document.querySelector("#password"),o=document.querySelector("#confirmpass"),l=o.nextElementSibling;if(o.value===n.value&&""===o.value)l.textContent="",t(o);else{if(o.value===n.value)return l.textContent="OK",l.style.color="green",e(o),!0;o.value!==n.value&&(l.textContent="passwords not the same!",l.style.color="red",t(o))}}const u=document.querySelector("#submit-button"),s=document.querySelector("#email"),i=document.querySelector("#country"),d=document.querySelector("#zip"),a=document.querySelector("#password"),y=document.querySelector("#confirmpass");u.addEventListener("click",(e=>{e.preventDefault(),n(),o(),l(),r(),c(),s.addEventListener("keyup",n),i.addEventListener("click",o),d.addEventListener("keyup",l),a.addEventListener("keyup",r),y.addEventListener("keyup",(()=>{c(r())})),!0===n()&&!0===o()&&!0===l()&&!0===r()&&!0===c()&&function(){const e=document.querySelector(".container"),t=document.querySelector(".success");e.style.display="none",t.style.display="block"}()}))})();